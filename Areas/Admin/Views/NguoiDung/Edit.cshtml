@model WEB.Models.NguoiDung
@{
    ViewData["Title"] = "Sửa người dùng";
    var isAdmin = string.Equals(Model.VaiTro, "Admin", StringComparison.OrdinalIgnoreCase);
}

<h2>Sửa người dùng</h2>

<form asp-action="Edit" method="post">
    @Html.AntiForgeryToken()
    <input type="hidden" name="id" value="@Model.NguoiDungID" />

    <div class="mb-3">
        <label class="form-label">Họ tên</label>
        <input name="HoTen" value="@Model.HoTen" class="form-control" />
    </div>

    <div class="mb-3">
        <label class="form-label">Email</label>
        <input name="Email" value="@Model.Email" class="form-control" />
        @Html.ValidationMessage("Email", new { @class = "text-danger" })
    </div>

    <div class="mb-3">
        <label class="form-label">Vai trò</label>

        @* TUYỆT ĐỐI KHÔNG CÓ C# TRONG THUỘC TÍNH <option> *@
        @if (isAdmin)
        {
            <select name="VaiTro" class="form-control">
                <option value="Admin" selected>Admin</option>
                <option value="DocGia">DocGia</option>
            </select>
        }
        else
        {
            <select name="VaiTro" class="form-control">
                <option value="Admin">Admin</option>
                <option value="DocGia" selected>DocGia</option>
            </select>
        }
    </div>

    <div class="mb-3">
        <label class="form-label">Đổi mật khẩu (để trống nếu giữ nguyên)</label>
        <input type="password" name="NewPassword" class="form-control" />
    </div>

    <button class="btn btn-primary">Cập nhật</button>
    <a class="btn btn-secondary" asp-action="Index">Hủy</a>
</form>
