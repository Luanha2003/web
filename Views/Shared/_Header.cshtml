@using Microsoft.AspNetCore.Http
@{
    var userName = Context.Session.GetString("UserName");
    var userRole = Context.Session.GetString("UserRole");
}
<header class="header-cds">
    <div class="header-top">
        <div class="container d-flex align-items-center justify-content-between gap-3 py-2">
            <div class="d-flex align-items-center gap-3">
                <img src="~/images/logo.png" alt="Logo" class="header-logo" onerror="this.style.display='none'">
                <div class="text-white lh-sm fw-semibold header-agency">
                    <div class="upper">BỘ NÔNG NGHIỆP VÀ MÔI TRƯỜNG</div>
                    <div class="bigger">CỤC CHUYỂN ĐỔI SỐ</div>
                </div>
            </div>

            <div class="d-flex align-items-center gap-3">
                <a class="text-white text-decoration-none small" href="#">Sơ đồ cổng</a>
                <a class="text-white text-decoration-none small" href="#">Lịch làm việc</a>
                <a class="text-white text-decoration-none small" href="mailto:info@monre.gov.vn">Email</a>

                <div class="d-flex align-items-center gap-2">
                    <a class="flag" title="Vietnamese" href="#"><img src="https://flagcdn.com/w20/vn.png" alt="VN" /></a>
                    <a class="flag" title="English" href="#"><img src="https://flagcdn.com/w20/gb.png" alt="EN" /></a>
                </div>

                <form asp-area="" asp-controller="Home" asp-action="Search" method="get" class="d-none d-md-flex align-items-center ms-2">
                    <input class="form-control form-control-sm rounded-1" name="q" placeholder="Nhập từ khóa tìm kiếm..." />
                    <button class="btn btn-sm btn-light ms-1"><i class="fa fa-search"></i></button>
                </form>

                <div class="ms-2 d-flex align-items-center">
                    @if (!string.IsNullOrEmpty(userName))
                    {
                        <span class="text-white small me-2">Xin chào, <strong>@userName</strong></span>

                        @if (!string.IsNullOrEmpty(userRole) && userRole.Equals("Admin", StringComparison.OrdinalIgnoreCase))
                        {
                            <a class="btn btn-sm btn-warning me-2" asp-area="Admin" asp-controller="Dashboard" asp-action="Index">
                                Về trang quản trị
                            </a>
                        }

                        <form asp-area="" asp-controller="Account" asp-action="Logout" method="post" class="m-0 p-0">
                            @Html.AntiForgeryToken()
                            <button type="submit" class="btn btn-sm btn-outline-light">Đăng xuất</button>
                        </form>
                    }
                    else
                    {
                        <a class="btn btn-sm btn-light me-1" asp-area="" asp-controller="Account" asp-action="Register">Đăng ký</a>
                        <a class="btn btn-sm btn-outline-light" asp-area="" asp-controller="Account" asp-action="Login">Đăng nhập</a>
                    }
                </div>
            </div>
        </div>
    </div>

    <nav class="header-menu">
        <div class="container">
            <ul class="nav nav-underline justify-content-start gap-3 fw-semibold align-items-center">
                <li class="nav-item">
                    <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Index">
                        <i class="fa fa-home me-1"></i> TRANG CHỦ
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" asp-area="" asp-controller="GioiThieu" asp-action="Index">GIỚI THIỆU</a>
                </li>
                <li class="nav-item"><a class="nav-link" href="#">TIN TỨC - SỰ KIỆN</a></li>
                <li class="nav-item"><a class="nav-link" href="#">VĂN BẢN QUẢN LÝ</a></li>
                <li class="nav-item"><a class="nav-link" href="#">CHIẾN LƯỢC - QUY HOẠCH</a></li>

                <!-- ====== DANH MỤC DROPDOWN ====== -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                       aria-expanded="false">DANH MỤC</a>

                    <ul class="dropdown-menu dm-dropdown shadow">
                        <li>
                            <a class="dropdown-item dm-item dm-blue" href="#">
                                ĐẦU TƯ, ĐẤU THẦU
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item dm-item dm-blue" href="#">
                                SẢN PHẨM
                            </a>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <a class="dropdown-item dm-item dm-cream" asp-area="" asp-controller="ThongBaoNoiBo" asp-action="Index">
                                THÔNG BÁO NỘI BỘ
                            </a>
                        </li>
                    </ul>
                </li>
                <!-- =============================== -->
            </ul>
        </div>
    </nav>
</header>
